i СДЕЛАТЬ В ПРОЦЕССЕ:
3) после создания заказа сделать переход на страницу заполнения материалов к проекту
страницу  назвать маинтененц , на странице будет формироватся таблица полученных материалов для проекта от клиента
и/или выбор через поиск в полях таблицы в нашем складе (полученные ранее материалы6 купленные для проекта и тп)
поиск осуществлять по всем полям что интересуют при клике на результат вставлять в поля таблицы,
таблица динамическая после сохранения в БД формируем хл документ и сохраняем к заказу в папкую
если нет нужды делать БОМ для заказа сейчас или нет запчастей или хз то сделать кнопку закрыть,
при закрытии заказа на этой стадии: установить статус "ожидает проверки склада??" и сохранить все данные.
при повторном открытии заказа из таблицы вывода заказов переходим сразу на маитененц!!!

4) после маинтененц устанавливаем статус "проверен махсанаи готов или не готов к работе??"
или если проект не создан ранее то статус "проверен требует рош сидра??"
заказ переходит к работнику в таблицу вывода, в данный момент

5) при условии что заказ повторный и был ранее занесен в проекты:::
    А) формируем всю нужную информацию о проекте для работника, формируем БОМ проекта, нужное количество зап частей для работы
    согласно заказанному количеству от клиента, место где взять, и сохраняем в папку заказа файл с информацией доступный к печати или
    просмотру через программу. так же сохраняем все в БД а файл это дубликат БД

6) при условии что проекта ранее не было и нужно делать рош сидра!:::
    В) работник получив заказ в работу открывая его попадает на заполнение проекта (адд степ) заполняя попутно
    всю служебную информацию (длины проводоа, нужные запчасти, и тп) В ПРОЦЕССЕ СОЗДАНИЯ РОШ СИДРА
    И ЗАПОЛНЕНИЯ ДОКУМЕНТАЦИИ ФОРМИРУЕТСЯ РУТ КАРТА, БОМ для сборки проекта при новых заказах,
    одновременно формируется переучет склада и всех запчастей для данного проекта , делается учет величин
    количеств и тп




// Добавить лог для запчастей в котором будет отображатся перемещение запчастей между проектами
    в процессе создания заказа при выборе запчастей нужно отнять от наличия на складе то количество
    которое требуется для данного заказа, записать в лог номер заказа, количество до и после,
    имя проекта, имя того кто создал проект, ...

// запретить повторное сохранение данных при ошибках ??? не понятно как это сделать
// инвойс привязать к заказу и в складе добавить список инвойсов для ЗЧ добавляющихся по мере поступления одной запчасти
    пришла новая добавим к инвойсам новый и тд
// сделать вывод информации о инвойсах на ЗЧ
// сделать архив для документации в проектах с запросом на установку имени файла для сохранения в архиве
    без указания имени (взять по умолчанию имя и версию проекта) нельзя будет сохранить файл

// сделать отдельно вывод просмотра файлов архива для проектов

// добавить учет брака на детали от поставщика и на детали при сборке и на собранные заказы
    и учет этих вещей

// запретить повторное добавление бома для проекта, сделать проверку на соответствие полей
    используем хеши для строк что бы потом проверять если таковые бывали у нас
    сделать проверку на совпадение строк бома без количества и при повторном импорте сравнивать
    количество если оно дргое то приплюсовывать к имеющемуся

// запилить общий чат для проекта
// сделать оповещение на всех страницах асинхронно (узнать как это реализовать) это сложно но я работаю над этим
// сделать обновление страниц заказы асинхронно если что то поменялось в статусах заказов

//** переделать импорт файла CSV для склада , исправить проверки и условия!!! сделать защиту от повторного добавления

// доделать имена рут актов для проекта при добавлении (список взять у ави или еще где)
// добавить в рут акты стандартные правила для тех к которым возможно это применить и дать свои номера
// сделать так что бы при выборе карты добавлялось описание стд процедуры в поле описание шага
// добавить B руткарты отслеживание версий, начальная А0 далее при изменениях в шагах или документации
добавлять версии с сохраннением в архив прошлых

// убрать поле инвойса и поле лота (партии) из добавления запчасти руками или нет ???
// добавить к фидерам поля по запчастям
// сделать поиск по storage_state в БД
------
разделить таблицу запчастей на номенклатура и данные с инвойсами и лотами
сделать внесение товара на склад в две таблицы одноразово для нового товара
и
обновление -приход товара добавлять в таблицу инвойсов и лотов
сделать списание товаров к проектам с привязкой к лоту и инвойсу товара fifo
сделать списание напрямую с выбором из откуда списать
сделать сравнение на совпадение по номенклатурной таблице товара
сделать после всего переучет с добавлением к нашим товарам нашего инвойса
и нашего лота номер 1 для каждого товара как нулевой уровень
имя нашего лота- NTI/LOT(DATE-TIME)[ID] NTI/LOT(2024-05-18)[ID-1]
сделать вывод на печать или сохранение наклейку с наименованием лотом инвойсом и прочим
придумать как совместить с принтером для наклеек



i СДЕЛАЛ НЕ ПРОВЕРЕНО
// при переименовании проекта надо добавить переименование в заказах если они есть и вообще везде где участвовало имя проекта
 * 25-03 orders
 * сделать вычетание количества компонентов для проекта при взятии заказа в работу,
 * если заказз разрешен частично то отнять только имеющееся в наличи количество.
// длбавить добавление запчастей на склад и их количества привязав к инвойсам




i  ПРОВЕРЕННО И РАБОТАЕТ ИЛИ ПОФИКСИЛ
// добавить поднятие бома через цсв
// не работает кнопка добавить заказ при выборе полки автоматически
// сделать невозможным добавление одинаково названных проектов +++
// проверка если файл существует при его удалении изменении в проектах
// имя док файла для проекта при повторном сохранении меняется на новое
// менять название папки проекта при смене имени а так же в БД менять пути к файлам
// вывод в приорити не сработал как надо посмотреть почему и исправить
// добавить ордер бом выбор колонок в настройках это тот же бом что и в проекте
// вывод полного БОМА для заказа в эксель для заказа ЗЧ у поставщиков
// вывод пдф шагов для распечатки из заказа работает
// сделать приорити как таблицу и сделать двойной клик на поле делает его редактируемым
//таблицу сделать маленькой как в боме проекта
// вывод  пдф шагов из проекта если нужно ???
// первая дугма для клиента называется fai
// доделать руткарты вывод в пдф
 * добавить количество сделанных вещей для каждого шага при завершении работы над шагом.
 * дбавить возможность выбора шага из списка  для кждого работника при работе над заказов более одного человека
 * создать таблицу для работы над шагами проекта и составить связи так что бы можно легко было найти или вернутя к нужному шагу
// добавить оповещение о том что вывод таблиц (колонки не настроены)
 * сохраняем время начала шага и его завершения при переходе на новый
 * при нажатии на кнопку пропустить пишем лог что такой шаг был пропущени таким то человеком
 * и возвращаем шагу нулевые значения
 * сохраняем лог в логах и в чате о том кто ,когда взял заказ в работу
 * если есть ктото кто рабоотает над данным шагом то пишем кто работает в логе
// добавить таблицу для инвойсов и лотов для склада назвать ХЗ как
// сделать вывод в таблицу после клика на запчасть все ее лоты а потом после клика на лот вывод всей информации о запчасти
// сделать в лотах поле кол-во полученное для данного лота



1) при создании нового заказа для поля клиенты сделать выпадающий список с клиентами,
если  клиента нет в базе, сделать кнопку добавить клиента которая выводит модалку с формой добавления
и после сохранения возвращает на то же место в создании нового заказа
вставляя нового клиента сразу в поле клиентю
i ---(29/01/2024) сделано

2) для поля проекты сделать выбор из списка с помощью поиска по базе при
отсутствии проекта сделать кнопку добавить проект и после добавления сделать возврат
на странице создания заказа с данными для заказа(имя клиента, имя проекта, версия)
i ---(29/01/2024) сделано
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ ПОИСКОВИК ПО СТРАНИЦАМ
поисковые запросы: создать масив или константу где будет записан запрос для удобства изменений!!!
сделать страницу шде будет только поиск для всех страниц,
функция поиска принимает имя таблицы и поля для вывода данных,
из массива на этой же странице берем титул поля при выводе результата,
все ответы выводятся в один айди через один скрипт в майне который ломится на страницу поиска
сделать свич для отображения результата на страницах, придумать как это облегчить
может разбить на функции и в зависимости от страницы переданной при запросе вызывать разные
функции для формирования результата
i ---(30/01/2024) сделано и кучу раз изменено
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ ПОИСКОВИК ПО СТРАНИЦАМ

ГЛОБАЛЬНОЕ ДЕЙСТВИЕ
1) создание полноценной функционально наполненной базы данных --- сделано (29/02/2024)
2) заполнение базы данных материалами сохраненными в БД ntilaba --- сделано (29/02/2024)
3) перестроение проекта в структуру похожую на MVC == забил и построил свое --- сделано (когдато)
4) построение UI интерфейса == вообще не мое но что нибудь придумаю




Основные Таблицы склада
// номенклатура запчасти (каталог)
part_name
part_value
footprint
part_type
manufacture_pn
manufacturer
full_qty // общее количество для всех клиентов
min_qty // минимальное при котором нужно произвести заказ (актуально для НТИ)
class_number
datasheet
description
notes
item_image
shelf_life // срок годности
storage_state // где находится сейчас ???
date_in


// База Данных принадлежности Запасов (Accessory Database)
items_id - Ссылка на товар.
lot
invoice
supplier // {name:name, id:id}
owner_pn
owner // {name:name, id:id}
quantity - Количество товара в поставке.
storage_shelf
storage_box
manufacture_date
expaire_date
date_in

// База Данных Поставщиков (Supplier Database)
supply_id - Уникальный идентификатор поставки. ???
supplier - name
country
approval_status - Статус одобрения (например, "ожидает одобрения", "одобрено").


базы привязанные косвенно к складу но использующиеся в подсчетах и выводах
// База Данных Клиентов (Customer Database)
// База Данных Заказов (Order Database)
// База Данных Комплектующих (Bill of Materials - BOM)